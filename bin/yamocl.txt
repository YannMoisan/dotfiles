2. user
usermod -G nogroup damien Attention, sans l'option -a, enleve les droit root
usermod -a -G vboxusers yamo

4. Disque
dosfsck -t -a -v /dev/sdb1
du -a /home/yamo/backup/ | sort -n -r | head -n 10
fdisk -l lister les partitions
mount -t vboxsf share shared

6. backup
sudo dd if=/dev/sda of=~/mbr.img bs=512 count=63 #Procédure de sauvegarde du MBR
sudo dd if=~/mbr.img of=/dev/sda bs=446 count=1 #Pour restaurer le MBR sans restaurer la table de partition (par exemple si Windows a écrasé votre menu Grub), saisissez dans un terminal:
sudo dd if=~/mbr.img of=/dev/sda bs=512 count=1 #Pour restaurer le MBR et la table de partition (par exemple en cas d'erreur lors du partitionnement du disque), saisissez dans un terminal:
sudo dd if=~/mbr.img of=/dev/sda bs=1 skip=446 seek=446 count=66 #Pour ne restaurer que la table de partition (par exemple en cas d'erreur lors du partitionnement du disque et si l'on désire garder le bootloader que l'on a pu modifier), saisissez dans un terminal:
rsync -a --no-o --no-g --delete --progress /mnt/data/backup/photos/2012 /mnt/freebox/Photos/

7. processus
su - : change rep courant, recharge variable d'env, .bash_profile
su -c 'command' = sudo command
su - = sudo -i

8. Installation
dpkg --get-selections|grep
dpkg -l|grep linux|cut -f 3 -d " "
dpkg -s firefox # status : fonctionne uniquement si le package est installé
dpkg-reconfigure hddtemp (daemon at startup ?)
apt-get update
apt-get upgrade
apt-get install
apt-cache search firefox
add-apt-repository ppa:x/y
sudo update-alternatives --install /usr/bin/java java /opt/jdk1.7.0_04/bin/java 1
sudo update-alternatives --install /usr/bin/javac javac /opt/jdk1.7.0_04/bin/javac 1
sudo update-alternatives --config java
sudo update-alternatives --config javac
pacman -S ttf-inconsolata

9. arrêt et démarrage

grub-install -v

10. Réseau
arp-scan -I enp4s0 -l
curl -XPOST localhost:9200/index-attach -d mapping.json 
curl -XPOST localhost:9200/index-attach -d mapping.json 
dig google.com
hciconfig hci0 down;rmmod hci_usb
ifconfig eth0 192.168.10.125 netmask 255.255.255.0
ifconfig wlan0 down
netcfg -u ethernet-dhcp
nslookup google.com #Teste le serveur dns
route add default gw 192.168.10.1
ssh -l user server = ssh user@server
ssh-keygen -t rsa -C "yamo93@gmail.com"
telnet talk.google.com 5222

15. Noyau
cat /etc/modules
modinfo <modulename>
rmmod <modulename>
lsmod
ulimit -s

a. Materiel
lsusb #Liste les périphériques USB
lspci #Liste les périphériques PCI
lspci -v
lspci|grep VGA
ls /media #Liste les périphériques amovibles montés
lshw -C network

b. Git
git config --global user.name "Yann Moisan"
git config --global user.email "yamo93@gmail.com"
git remote add origin git@github.com:YannMoisan/math.git
git push -u origin master
git log --oneline --graph
git rebase --interactive HEAD~2 #pour fusionner 2 commit
git config -l
git remote set-url origin git@github.com:YannMoisan/dotfiles.git

c. ex command
:s/&amp;/\&gt;/g
:20,24s/.*/    <li>&<\/li>/
:3,5s#^\s*<span class="\(.*\)">\(.*\)</span>#\1=\2#
:%s/(ctrl-v)(ctrl-m)//g // remove ^M
:w ! sudo tee % # Save changes in Vim even if you forgot to sudo
%s/\([0-9]\{2\}\).\([0-9]\{2\}\).\([0-9]\{2\}\).\([0-9]\{2\}\).\([0-9]\{2\}\)/\1.\2.\3.\4.\5 # regexp adress book

find backupDvd/photos/ -name "*.[aA][vV][iI]" -ls|wc -l
find backupDvd/photos/ -name "*.[aA][vV][iI]" -ls|awk '{T+=$7} END {print T}'
find / -type f -size +20000k -exec ls
find . -type f|sed 's/.*\.//'|sort|uniq # Liste les extensions de fichiers
find . -type d \( -name "CVS" -o -name ".svn" \)
find backupDvd/photos/ -name "*.[aA][vV][iI]" -ls|wc -l
find backupDvd/photos/ -name "*.[aA][vV][iI]" -ls|awk '{T+=$7} END {print T}'
find backup/application/ -size +1000k -ls
find . -name entry*.html | xargs sed -i '4i-----'
find . -name entry*.html | xargs sed -i '3,5s#^\s*<span class=(.*)>\(.*\)</span>#\1=\2#'
find . -name entry*.html | xargs sed -i '1,2d'
find src -name entry*html|xargs sed -i '1,4s/^/$/' #ajoute le caractère $ aux 4 premières lignes
find /home/test -printf "%s:%p\n"|sort -k1n|tail -50 50 plus gros fichiers
find
find . -name *.sbt -exec grep -l assembly {} \;
find . -name *.sbt -exec grep -l assembly {} \;
find . -name *.sbt -exec grep -l assembly {} \;
find . -name target|xargs du -sh|sort -h
find ./dev/projects/progfun/funsets/target
find /mnt/data/backup/photos/ -name .xvpics -type d -exec find '{}' -type f \; | wc -l
find /mnt/data/backup/photos/ -type f -name *.* | sed -e 's/.*\.//' | sort | uniq -c | sort -nr
find /mnt/data/backup/photos/ -type f -name *.* | sed -e 's/.*\.//' | sort | uniq -c | sort -nr
find . -type f -printf %s

exiftool "-Directory<DateTimeOriginal" -d "%Y-%m-%d" .

/etc/hostname
/etc/hosts
/etc/resolv.conf
/etc/network/interfaces

which eclipse
whereis eclipse
locate eclipse

!! #dernière commande
!$ #dernier argument


. .profile
. ~/.bashrc
cat tmp.sh >> blog.sh #concatene 2 fichiers
cd - # Se positionne dans le précédent répertoire de travail
command $(!!) #for output of last command, need to reexcute it
convmv -f cp1252 -t utf-8 -r .
cp filename{,.bak} # shell extension
echo "!n" > file # sav a command in the history in a file
fc-list
grep -lir /usr/share/tomcat7 ~/workspace2/.metadata/
ln -s /opt/apache-maven-3.0.3/bin/mvn /usr/bin/mvn
mvn archetype:generate -DarchetypeGroupId=fr.gouv.impots.appli.commun.manzana.maven.archetypes -DarchetypeArtifactId=archetype-META -DarchetypeVersion=3.0 -DarchetypeRepository=http://repo.appli.dgfip/nexus/content/repositories/public
mysql -u root wine < src/main/resources/cellar.sql
mysqldump -u root -p bk_trunk
readlink -e /usr/bin/java
setxkbmap -layout fr -variant oss
systemctl start mysqld.service
timedatectl set-time '2013-02-12 14:45:00'
timedatectl status
tmux attach -t 0
tput colors
xrdb -query -all
